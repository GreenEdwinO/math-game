(this["webpackJsonpmath-game"]=this["webpackJsonpmath-game"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n.n(a),r=n(6),s=n.n(r),o=(n(13),n(2)),u=(n(14),n(15),n.p+"static/media/logo-multiply.562cea21.svg");function l(){return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("img",{src:u,width:32,height:32,className:"header-logo",alt:""}),"\ufe0f Math Game"]})}var _="ADD_INT_SIMPLE_NUMBER",N="ADD_INT_1_NUMBER",f="ADD_INT_10_NUMBER",d="ADD_INT_20_NUMBER",j="ADD_INT_2_NUMBER",b="ADD_INT_3_NUMBER",T="SUBSTRACT_INT_1_NUMBER",h="SUBSTRACT_INT_2_NUMBER",O="SUBSTRACT_INT_FROM_TEN_NUMBER",E="SUBSTRACT_INT_3_NUMBER",I="SUBSTRACT_NEGATIVE_INT_1_NUMBER",M="SUBSTRACT_NEGATIVE_INT_2_NUMBER",U="MULTIPLY_INT_1_NUMBER",v="MULTIPLY_INT_2_NUMBER",m="MULTIPLY_INT_TENS_NUMBER",p="MULTIPLY_SIMPLE_FLOAT_NUMBER",R="DIVIDE_SIMPLE_FLOAT_NUMBER",B="DIVIDE_INT_2_NUMBER",S="DIVIDE_INT_TENS_NUMBER",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x(1,3);return 1/Math.pow(10,e)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x(1,999),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x(10,999),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x(1,3);return e+t/Math.pow(10,n)},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random();return Math.round(n*(t-e)+e)},w=function(e){switch(e){case p:return[g(),D()];case R:return[D(),g()];case B:var t=x(2,10);return[x(2,9)*t,t];case v:case j:return[x(10,100),x(2,10)];case b:return[x(100,1e3),x(2,10)];case _:return[x(0,5),x(1,5)];case U:case N:return[x(2,10),x(2,10)];case f:return[x(10,40),10*x(1,5)];case d:return[x(10,50),10*x(1,9)];case m:return[x(2,100),Math.pow(10,x(1,4))];case S:return[x(100,9999),Math.pow(10,x(1,4))];case T:return[x(5,10),x(1,5)];case O:return[10,x(1,10)];case h:return[x(50,99),x(1,50)];case E:return[x(100,999),x(1,100)];case I:return[x(1,10),x(5,10)];case M:return[x(1,50),x(50,100)];default:throw new Error("difficulty is not set")}},A=function(e){switch(e){case B:case R:case S:return"\xf7";case U:case v:case p:case m:return"x";case T:case O:case h:case E:case I:case M:return"-";case _:case N:case f:case d:case j:case b:default:return"+"}},L=function(e){var t=e.difficulty,n=e.x,c=e.y,a=e.result,i=parseFloat((a||"").replace(",",".")),r=function(e){var t=e.difficulty,n=e.x,c=e.y;switch(A(t)){case"x":return n*c;case"\xf7":return n/c;case"+":return n+c;case"-":return n-c;default:throw new Error("difficulty is not set")}}({difficulty:t,x:n,y:c});return Math.abs(i-r)<1e-9};n(16);function k(e){var t=e.x,n=e.y,i=e.difficulty,r=e.disabled,s=void 0!==r&&r,u=e.onSubmit,l=void 0===u?function(){}:u,_=Object(a.useState)(),N=Object(o.a)(_,2),f=N[0],d=N[1];Object(a.useEffect)((function(){return d("")}),[t,n]);return Object(c.jsxs)("div",{className:"question",children:[Object(c.jsxs)("span",{className:"question-q",children:[t," ",A(i)," ",n," ="," "]}),Object(c.jsx)("input",{type:"text",name:"answer",value:f,onChange:function(e){if(!s){var t=e.target.value;d(t),l(t)}},className:"question-answer",autoFocus:!0,pattern:"[\\.,0-9]*",inputMode:"numeric",maxLength:"8"})," ","?"]})}n(17);var y=function(e){return{ADD_INT_1_NUMBER:1,MULTIPLY_INT_TENS_NUMBER:2,SUBSTRACT_INT_1_NUMBER:2,ADD_INT_10_NUMBER:2,DIVIDE_INT_TENS_NUMBER:3,ADD_INT_2_NUMBER:3,SUBSTRACT_NEGATIVE_INT_1_NUMBER:3,ADD_INT_20_NUMBER:3,ADD_INT_3_NUMBER:4,SUBSTRACT_INT_2_NUMBER:4,MULTIPLY_SIMPLE_FLOAT_NUMBER:4,DIVIDE_SIMPLE_FLOAT_NUMBER:4,MULTIPLY_INT_1_NUMBER:5,SUBSTRACT_NEGATIVE_INT_2_NUMBER:5,SUBSTRACT_INT_3_NUMBER:5,DIVIDE_INT_2_NUMBER:5,MULTIPLY_INT_2_NUMBER:6}[e]||1};function C(e){var t=e.score;return Object(c.jsxs)("div",{className:"score",children:["Score : ",t]})}n(18);function P(e){return e<3?"fast":e<6?"medium":e<9?"long":"verylong"}function V(e){var t=e.x,n=e.y,i=e.show,r=Object(a.useState)(Date.now()),s=Object(o.a)(r,2),u=s[0],l=s[1],_=Object(a.useState)(),N=Object(o.a)(_,2),f=N[0],d=N[1],j=Object(a.useState)(0),b=Object(o.a)(j,2),T=b[0],h=b[1],O=Object(a.useState)(0),E=Object(o.a)(O,2),I=E[0],M=E[1];if(Object(a.useEffect)((function(){if(i){var e=(Date.now()-u)/1e3;d(e),h(T+1),M(I+e)}}),[i]),Object(a.useEffect)((function(){l(Date.now())}),[t,n]),!f)return null;var U=f.toFixed(1),v=(I/T).toFixed(1);return Object(c.jsxs)("div",{className:"chronometer",children:[Object(c.jsxs)("div",{children:["Time :"," ",Object(c.jsxs)("span",{className:P(U),children:[U," sec."]})]}),Object(c.jsxs)("div",{children:["Average :"," ",Object(c.jsxs)("span",{className:P(v),children:[v," sec."]})]})]})}var F=n(3),Y=n(4),G=(n(19),"mathGameDifficulty"),W=function(e){var t=Object.entries(e).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return n}));return t[x(0,t.length-1)]},q={ADD_INT_SIMPLE_NUMBER:"simple addition like 2 + 2",ADD_INT_1_NUMBER:"addition like 6 + 9",ADD_INT_10_NUMBER:"addition like 23 + 20",ADD_INT_20_NUMBER:"addition like 23 + 70",ADD_INT_2_NUMBER:"addition like 53 + 9",ADD_INT_3_NUMBER:"addition like 532 + 3",SUBSTRACT_INT_1_NUMBER:"simple substraction like 6 - 3",SUBSTRACT_INT_FROM_TEN_NUMBER:"substraction from 10 like 10 - 3",SUBSTRACT_INT_2_NUMBER:"substraction like 45 - 12",SUBSTRACT_INT_3_NUMBER:"substraction like 211 - 122",SUBSTRACT_NEGATIVE_INT_1_NUMBER:"simple substraction with negative numbers like 4 - 6",SUBSTRACT_NEGATIVE_INT_2_NUMBER:"substraction with negative numbers like 12 - 22",MULTIPLY_INT_1_NUMBER:"classic multiplication like 2 x 5",MULTIPLY_INT_2_NUMBER:"multiplication like 32 x 3",DIVIDE_INT_2_NUMBER:"classic division like 30 \xf7  5",MULTIPLY_INT_TENS_NUMBER:"multiplication with 10, 100, 1000",MULTIPLY_SIMPLE_FLOAT_NUMBER:"multiplication like 23.111 x 0.001 ",DIVIDE_SIMPLE_FLOAT_NUMBER:"division like 132.34 \xf7 0.01",DIVIDE_INT_TENS_NUMBER:"division with 10, 100, 1000"},J=function(){var e,t=function(){var e=localStorage.getItem(G);return e?JSON.parse(e):null}();return Object(Y.a)((e={},Object(F.a)(e,_,!1),Object(F.a)(e,N,!1),Object(F.a)(e,f,!1),Object(F.a)(e,d,!1),Object(F.a)(e,j,!1),Object(F.a)(e,b,!1),Object(F.a)(e,T,!1),Object(F.a)(e,O,!1),Object(F.a)(e,h,!1),Object(F.a)(e,E,!1),Object(F.a)(e,I,!1),Object(F.a)(e,M,!1),Object(F.a)(e,U,!0),Object(F.a)(e,v,!1),Object(F.a)(e,m,!1),Object(F.a)(e,p,!1),Object(F.a)(e,B,!1),Object(F.a)(e,S,!1),Object(F.a)(e,R,!1),e),t)};function $(e){var t=e.difficulties,n=e.onDifficultiesChange,a=void 0===n?function(){}:n,i=function(e){var n,c,i=e.target.checked,r=Object(Y.a)(Object(Y.a)({},t),{},Object(F.a)({},e.target.value,i));c=r,!0===Object.values(c).find((function(e){return e}))&&(a(r),n=r,localStorage.setItem(G,JSON.stringify(n)))};return Object(c.jsxs)("div",{className:"difficulties",children:["Operations :",Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)("label",{className:"difficulties-option",children:[Object(c.jsx)("input",{type:"checkbox",name:"difficulties",onChange:i,value:n,checked:a})," ",q[n]," ",Object(c.jsxs)("small",{className:"difficulties-point",children:[y(n)," points"]})]},n)}))]})}var z=n(7);n(20);function H(e){var t=e.win,n=Object(a.useState)(!0),i=Object(o.a)(n,2),r=i[0],s=i[1];Object(a.useEffect)((function(){t&&r&&Object(z.a)({particleCount:80,spread:50,origin:{y:.6}})}),[t,r]);return Object(c.jsxs)("label",{className:"confetti",children:[Object(c.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){return s(e.target.checked)}}),"Confetti ?"]})}function K(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(J()),s=Object(o.a)(r,2),u=s[0],_=s[1],N=Object(a.useState)(W(u)),f=Object(o.a)(N,2),d=f[0],j=f[1],b=Object(a.useState)(0),T=Object(o.a)(b,2),h=T[0],O=T[1],E=Object(a.useState)(w(d)),I=Object(o.a)(E,2),M=I[0],U=I[1],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1];return[Object(a.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;clearTimeout(c),i(setTimeout(t,n))}),[c,e])]}(300),m=Object(o.a)(v,1)[0],p=function(){var e,t,n=W(u);j(n);do{var c=w(n),a=Object(o.a)(c,2);e=a[0],t=a[1]}while(e===M[0]&&t===M[1]);U([e,t]),i(!1)};Object(a.useEffect)(p,[u]);var R=Object(o.a)(M,2),B=R[0],S=R[1];return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(l,{className:"app-header"}),Object(c.jsxs)("section",{className:"app-main",children:[Object(c.jsx)(k,{x:B,y:S,difficulty:d,disabled:n,onSubmit:function(e){i(!1),L({difficulty:d,x:B,y:S,result:e})&&(i(!0),O(h+y(d)),m(p))}}),Object(c.jsx)(C,{score:h}),Object(c.jsx)(V,{x:B,y:S,show:n})]}),Object(c.jsx)("section",{className:"app-options",children:Object(c.jsxs)("details",{className:"app-details",children:[Object(c.jsx)("summary",{className:"app-summary",children:"Options"}),Object(c.jsx)($,{difficulties:u,onDifficultiesChange:function(e){return _(e)}}),Object(c.jsx)(H,{win:n}),Object(c.jsxs)("p",{children:["That web application is free software -"," ",Object(c.jsx)("a",{href:"https://github.com/paulgreg/math-game/blob/main/LICENSE.md",children:"MIT License"})," ","- Source code on"," ",Object(c.jsx)("a",{href:"https://github.com/paulgreg/math-game",children:"github"})]})]})})]})}var Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(K,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://paulgreg.me/math-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://paulgreg.me/math-game","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):X(t,e)}))}}()}],[[21,1,2]]]);
//# sourceMappingURL=main.ad7c9c03.chunk.js.map